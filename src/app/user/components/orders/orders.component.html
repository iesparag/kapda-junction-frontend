<div class="orders">
  <div class="container">
    <h1>My Orders</h1>
    
    <div class="orders-list" *ngIf="orders$ | async as orders">
      <div *ngIf="orders.length === 0" class="empty-state">
        <p>You have no orders yet.</p>
        <a routerLink="/" class="btn btn-primary">Start Shopping</a>
      </div>
      
      <div class="card" *ngFor="let order of orders">
        <div class="order-header">
          <div class="order-info">
            <h3>Order #{{ order.orderNumber }}</h3>
            <p class="order-date">Placed on {{ order.createdAt | date:'medium' }}</p>
            <p class="order-total">Total: ₹{{ order.totalAmount.toFixed(2) }}</p>
          </div>
          <div class="order-status">
            <span [class]="'status-badge ' + getStatusClass(order.status)">
              {{ order.status | titlecase }}
            </span>
          </div>
        </div>
        
        <div class="order-items">
          <h4>Items ({{ getTotalItems(order) }})</h4>
          <div class="items-list">
            <div class="item" *ngFor="let item of order.items">
              <span>{{ item.productName }}</span>
              <span>Qty: {{ item.quantity }}</span>
              <span>₹{{ item.price.toFixed(2) }}</span>
            </div>
          </div>
        </div>
        
        <div class="shipping-address">
          <h4>Shipping Address</h4>
          <p>{{ order.shippingAddress.name }}</p>
          <p>{{ order.shippingAddress.address }}</p>
          <p>{{ order.shippingAddress.city }}, {{ order.shippingAddress.state }} {{ order.shippingAddress.zipCode }}</p>
          <p>Phone: {{ order.shippingAddress.phone }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

